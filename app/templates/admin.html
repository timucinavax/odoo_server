{% extends '/layout/layoutAdmin.html' %} {% block title %}Sehlen Tourism - Uçuş
Arama{%endblock %} {% block content %}

<section class="hero">
  <div class="container">
    <h1>Yönetim Paneli</h1>
  </div>
</section>

<div class="container">
  <!-- Gidiş Uçuşu Ekleme Formu -->
  <div class="content-section" id="add-outbound">
    <div class="card">
      <div class="card-header">Gidiş Uçuşu Ekle</div>
      <div class="card-body">
        <form action="{{ url_for('add_flight') }}" method="post">
          <input type="hidden" name="flight_direction" value="outbound" />

          <div class="mb-3">
            <label for="airplane_type_outbound" class="form-label"
              >Uçak Tipi</label
            >
            <select
              class="form-control"
              id="airplane_type_outbound"
              name="airplane_type"
              required
            >
              <option value="TK121">TK121 - 30 Koltuk</option>
              <option value="TK122">TK122 - 40 Koltuk</option>
              <option value="TK123">TK123 - 50 Koltuk</option>
              <option value="TK124">TK124 - 70 Koltuk</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="flight_code_outbound" class="form-label"
              >Uçuş Numarası</label
            >
            <input
              type="text"
              class="form-control"
              id="flight_code_outbound"
              name="flight_code"
              required
            />
          </div>

          <div class="mb-3">
            <label for="departure_outbound" class="form-label"
              >Kalkış Havalimanı</label
            >
            <select
              class="form-control"
              id="departure_outbound"
              name="departure"
              required
            >
              {% for airport in airports %}
              <option value="{{ airport.id }}">
                {{ airport.name }} - {{ airport.city }}
              </option>
              {% endfor %}
            </select>
          </div>

          <div class="mb-3">
            <label for="arrival_outbound" class="form-label"
              >Varış Havalimanı</label
            >
            <select
              class="form-control"
              id="arrival_outbound"
              name="arrival"
              required
            >
              {% for airport in airports %}
              <option value="{{ airport.id }}">
                {{ airport.name }} - {{ airport.city }}
              </option>
              {% endfor %}
            </select>
          </div>

          <div class="mb-3">
            <label for="date_outbound" class="form-label">Tarih</label>
            <input
              type="date"
              class="form-control"
              id="date_outbound"
              name="date"
              required
            />
          </div>

          <div class="mb-3">
            <label for="departure_time_outbound" class="form-label"
              >Kalkış Tarihi ve Saati</label
            >
            <input
              type="datetime-local"
              class="form-control"
              id="departure_time_outbound"
              name="departure_time"
              required
            />
          </div>

          <div class="mb-3">
            <label for="arrival_time_outbound" class="form-label"
              >Varış Tarihi ve Saati</label
            >
            <input
              type="datetime-local"
              class="form-control"
              id="arrival_time_outbound"
              name="arrival_time"
              required
            />
          </div>

          <div class="mb-3">
            <label for="svc_type_outbound" class="form-label"
              >Hizmet Türü</label
            >
            <select
              class="form-control"
              id="svc_type_outbound"
              name="svc_type"
              required
            >
              <option value="LIVE">LIVE</option>
              <option value="FRY">FRY</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="user_price_outbound" class="form-label"
              >Müşteri Fiyat</label
            >
            <input
              type="number"
              step="0.01"
              class="form-control"
              id="user_price_outbound"
              name="user_price"
              required
            />
          </div>

          <div class="mb-3">
            <label for="agency_price_outbound" class="form-label"
              >Acenta Fiyat</label
            >
            <input
              type="number"
              step="0.01"
              class="form-control"
              id="agency_price_outbound"
              name="agency_price"
              required
            />
          </div>

          <button type="submit" class="btn btn-primary">
            Gidiş Uçuşu Ekle
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Dönüş Uçuşu Ekleme Formu -->
  <div class="content-section" id="add-return">
    <div class="card">
      <div class="card-header">Dönüş Uçuşu Ekle</div>
      <div class="card-body">
        <form action="{{ url_for('add_flight') }}" method="post">
          <input type="hidden" name="flight_direction" value="return" />

          <div class="mb-3">
            <label for="airplane_type_return" class="form-label"
              >Uçak Tipi</label
            >
            <select
              class="form-control"
              id="airplane_type_return"
              name="airplane_type"
              required
            >
              <option value="TK121">TK121 - 30 Koltuk</option>
              <option value="TK122">TK122 - 40 Koltuk</option>
              <option value="TK123">TK123 - 50 Koltuk</option>
              <option value="TK124">TK124 - 70 Koltuk</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="flight_code_return" class="form-label"
              >Uçuş Numarası</label
            >
            <input
              type="text"
              class="form-control"
              id="flight_code_return"
              name="flight_code"
              required
            />
          </div>

          <div class="mb-3">
            <label for="departure_return" class="form-label"
              >Kalkış Havalimanı</label
            >
            <select
              class="form-control"
              id="departure_return"
              name="departure"
              required
            >
              {% for airport in airports %}
              <option value="{{ airport.id }}">
                {{ airport.name }} - {{ airport.city }}
              </option>
              {% endfor %}
            </select>
          </div>

          <div class="mb-3">
            <label for="arrival_return" class="form-label"
              >Varış Havalimanı</label
            >
            <select
              class="form-control"
              id="arrival_return"
              name="arrival"
              required
            >
              {% for airport in airports %}
              <option value="{{ airport.id }}">
                {{ airport.name }} - {{ airport.city }}
              </option>
              {% endfor %}
            </select>
          </div>

          <div class="mb-3">
            <label for="date_return" class="form-label">Tarih</label>
            <input
              type="date"
              class="form-control"
              id="date_return"
              name="date"
              required
            />
          </div>

          <div class="mb-3">
            <label for="departure_time_return" class="form-label"
              >Kalkış Tarihi ve Saati</label
            >
            <input
              type="datetime-local"
              class="form-control"
              id="departure_time_return"
              name="departure_time"
              required
            />
          </div>

          <div class="mb-3">
            <label for="arrival_time_return" class="form-label"
              >Varış Tarihi ve Saati</label
            >
            <input
              type="datetime-local"
              class="form-control"
              id="arrival_time_return"
              name="arrival_time"
              required
            />
          </div>

          <div class="mb-3">
            <label for="svc_type_return" class="form-label">Hizmet Türü</label>
            <select
              class="form-control"
              id="svc_type_return"
              name="svc_type"
              required
            >
              <option value="LIVE">LIVE</option>
              <option value="FRY">FRY</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="user_price_return" class="form-label"
              >Müşteri Fiyat</label
            >
            <input
              type="number"
              step="0.01"
              class="form-control"
              id="user_price_return"
              name="user_price"
              required
            />
          </div>

          <div class="mb-3">
            <label for="agency_price_return" class="form-label"
              >Acenta Fiyat</label
            >
            <input
              type="number"
              step="0.01"
              class="form-control"
              id="agency_price_return"
              name="agency_price"
              required
            />
          </div>

          <button type="submit" class="btn btn-primary">
            Dönüş Uçuşu Ekle
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Gidiş Uçuşları Listesi -->
  <div class="content-section" id="outbound-list">
    <div class="card">
      <div class="card-header">Gidiş Uçuşları</div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Uçuş Numarası</th>
                <th>Yolcu Sayısı</th>
                <th>Kalkış</th>
                <th>Varış</th>
                <th>Kalkış Tarihi</th>
                <th>Varış Tarihi</th>
                <th>Uçak</th>
              </tr>
            </thead>
            <tbody>
              {% for flight in outbound_flights %}
              <tr>
                <td>{{ flight.flight_number }}</td>
                <td>{{ flight.available_seats }}</td>
                <td>{{ flight.departure_airport[1] }}</td>
                <td>{{ flight.arrival_airport[1] }}</td>
                <td>{{ flight.departure_time }}</td>
                <td>{{ flight.arrival_time }}</td>
                <td>
                  <a
                    href="{{ url_for('plane_layout', flight_id=flight.id) }}"
                    class="btn btn-primary"
                    >Uçak Koltuğu</a
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">Aktif Uçuşlar</div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Uçuş Numarası</th>
                <th>Hizmet Türü</th>
                <th>Kalkış</th>
                <th>Varış</th>
                <th>Kalkış Saati</th>
              </tr>
            </thead>
            <tbody id="active-flights-body"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="content-section" id="all-flights">
    <div class="card">
      <div class="card-header">Tüm Uçuşlar ve Uçuş Yönetimi</div>
      <div class="card-body">
        <!-- Gidiş ve Dönüş Uçuş Formları -->
        <div class="row">
          <!-- Gidiş Uçuşu Formu -->
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-header">Gidiş Uçuşu Ekle</div>
              <div class="card-body">
                <form action="{{ url_for('add_flight') }}" method="post">
                  <input
                    type="hidden"
                    name="flight_direction"
                    value="outbound"
                  />
                  <label for="airplane_type" class="form-label"
                    >Uçak Tipi</label
                  >
                  <div class="mb-3">
                    <select
                      class="form-control"
                      id="airplane_type"
                      name="airplane_type"
                      required
                    >
                      <option value="TK121">TK121 - 30 Koltuk</option>
                      <option value="TK122">TK122 - 40 Koltuk</option>
                      <option value="TK123">TK123 - 50 Koltuk</option>
                      <option value="TK124">TK124 - 70 Koltuk</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="flight_code" class="form-label"
                      >Uçuş Numarası</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="flight_code"
                      name="flight_code"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="departure" class="form-label"
                      >Kalkış Havalimanı</label
                    >
                    <select
                      class="form-control"
                      id="departure"
                      name="departure"
                      required
                    >
                      {% for airport in airports %}
                      <option value="{{ airport.id }}">
                        {{ airport.name }} - {{ airport.city }}
                      </option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="arrival" class="form-label"
                      >Varış Havalimanı</label
                    >
                    <select
                      class="form-control"
                      id="arrival"
                      name="arrival"
                      required
                    >
                      {% for airport in airports %}
                      <option value="{{ airport.id }}">
                        {{ airport.name }} - {{ airport.city }}
                      </option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="date" class="form-label">Tarih</label>
                    <input
                      type="date"
                      class="form-control"
                      id="date"
                      name="date"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="departure_time" class="form-label"
                      >Kalkış Tarihi ve Saati</label
                    >
                    <input
                      type="datetime-local"
                      class="form-control"
                      id="departure_time"
                      name="departure_time"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="arrival_time" class="form-label"
                      >Varış Tarihi ve Saati</label
                    >
                    <input
                      type="datetime-local"
                      class="form-control"
                      id="arrival_time"
                      name="arrival_time"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="svc_type" class="form-label">Hizmet Türü</label>
                    <select
                      class="form-control"
                      id="svc_type"
                      name="svc_type"
                      required
                    >
                      <option value="LIVE">LIVE</option>
                      <option value="FRY">FRY</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="user_price" class="form-label"
                      >Müşteri Fiyat</label
                    >
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="user_price"
                      name="user_price"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="agency_price" class="form-label"
                      >Acenta Fiyat</label
                    >
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="agency_price"
                      name="agency_price"
                      required
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Gidiş Uçuşu Ekle
                  </button>
                </form>
              </div>
            </div>
          </div>

          <!-- Dönüş Uçuşu Formu -->
          <div class="col-md-6">
            <div class="card mb-4">
              <div class="card-header">Dönüş Uçuşu Ekle</div>
              <div class="card-body">
                <form action="{{ url_for('add_flight') }}" method="post">
                  <input type="hidden" name="flight_direction" value="return" />
                  <label for="airplane_type_id" class="form-label"
                    >Uçak Tipi</label
                  >
                  <select
                    class="form-control"
                    id="airplane_type_id"
                    name="airplane_type_id"
                    required
                  >
                    <option value="TK121">TK121 - 30 Koltuk</option>
                    <option value="TK122">TK122 - 40 Koltuk</option>
                    <option value="TK123">TK123 - 50 Koltuk</option>
                    <option value="TK124">TK124 - 70 Koltuk</option>
                  </select>
                  <div class="mb-3">
                    <label for="flight_code_return" class="form-label"
                      >Uçuş Numarası</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="flight_code_return"
                      name="flight_code"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="departure" class="form-label"
                      >Kalkış Havalimanı</label
                    >
                    <select
                      class="form-control"
                      id="departure"
                      name="departure"
                      required
                    >
                      {% for airport in airports %}
                      <option value="{{ airport.id }}">
                        {{ airport.name }} - {{ airport.city }}
                      </option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="arrival" class="form-label"
                      >Varış Havalimanı</label
                    >
                    <select
                      class="form-control"
                      id="arrival"
                      name="arrival"
                      required
                    >
                      {% for airport in airports %}
                      <option value="{{ airport.id }}">
                        {{ airport.name }} - {{ airport.city }}
                      </option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="date_return" class="form-label">Tarih</label>
                    <input
                      type="date"
                      class="form-control"
                      id="date"
                      name="date"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="departure_time_return" class="form-label"
                      >Kalkış Tarihi ve Saati</label
                    >
                    <input
                      type="datetime-local"
                      class="form-control"
                      id="departure_time_return"
                      name="departure_time"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="arrival_time_return" class="form-label"
                      >Varış Tarihi ve Saati</label
                    >
                    <input
                      type="datetime-local"
                      class="form-control"
                      id="arrival_time_return"
                      name="arrival_time"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="svc_type_return" class="form-label"
                      >Hizmet Türü</label
                    >
                    <select
                      class="form-control"
                      id="svc_type_return"
                      name="svc_type"
                      required
                    >
                      <option value="LIVE">LIVE</option>
                      <option value="FRY">FRY</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="user_price_return" class="form-label"
                      >Müşteri Fiyat</label
                    >
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="user_price_return"
                      name="user_price"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="agency_price_return" class="form-label"
                      >Acenta Fiyat</label
                    >
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="agency_price_return"
                      name="agency_price"
                      required
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Dönüş Uçuşu Ekle
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Uçuş Listesi -->
        <div class="table-responsive">
          <div class="card-header">Uçuş Listesi</div>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Uçuş Numarası</th>
                <th>Hizmet Türü</th>
                <th>Kalkış</th>
                <th>Varış</th>
                <th>Kalkış Saati</th>
              </tr>
            </thead>
            <tbody>
              {% for flight in outbound_flights %}
              <tr>
                <td>{{ flight.flight_number }}</td>
                <td>{{ flight.svc_type }}</td>
                <td>{{ flight.departure_airport[1] }}</td>
                <td>{{ flight.arrival_airport[1] }}</td>
              </tr>
              {% endfor %} {% for flight in return_flights %}
              <tr>
                <td>{{ flight.flight_number }}</td>
                <td>{{ flight.svc_type }}</td>
                <td>{{ flight.departure_airport[1] }}</td>
                <td>{{ flight.arrival_airport[1] }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Dönüş Uçuşları Listesi -->
  <div class="content-section" id="return-list">
    <div class="card">
      <div class="card-header">Dönüş Uçuşları</div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Uçuş Numarası</th>
                <th>Yolcu Sayısı</th>
                <th>Kalkış</th>
                <th>Varış</th>
                <th>Uçak</th>
              </tr>
            </thead>
            <tbody>
              {% for flight in return_flights %}
              <tr>
                <td>{{ flight.flight_number }}</td>
                <td>{{ flight.available_seats }}</td>
                <td>{{ flight.departure_airport[1] }}</td>
                <td>{{ flight.arrival_airport[1] }}</td>
                <td>
                  <a
                    href="{{ url_for('plane_layout', flight_id=flight.id) }}"
                    class="btn btn-primary"
                    >Uçak Koltuğu</a
                  >
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">Aktif Uçuşlar</div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Uçuş Numarası</th>
                <th>Hizmet Türü</th>
                <th>Kalkış</th>
                <th>Varış</th>
                <th>Kalkış Saati</th>
              </tr>
            </thead>
            <tbody id="active-flights-body"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Kullanıcılar Tablosu -->
  <div class="content-section" id="users-list">
    <div class="card">
      <div class="card-header">Kullanıcılar</div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Kullanıcı Adı</th>
                <th>E-posta</th>
                <th>Rol</th>
              </tr>
            </thead>
            <tbody>
              {% for user in users %} {% if user.role != 'admin' %}
              <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                  {% if user.role == 'agency' %} Acenta {% elif user.role ==
                  'user' %} Müşteri {% endif %}
                </td>
              </tr>
              {% endif %} {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
